document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("loading-screen"),t=document.getElementById("main-content"),i=window.matchMedia("(prefers-reduced-motion: reduce)").matches,n="1"===sessionStorage.getItem("rd-intro-seen");i||n?(e&&e.classList.add("hidden"),t&&t.classList.add("loaded")):(!function(){const t=document.getElementById("loading-network-bg");if(!t)return;const i=t.getContext("2d");let n=[],s={x:null,y:null,radius:100};const a=navigator.hardwareConcurrency&&navigator.hardwareConcurrency<=4||navigator.deviceMemory&&navigator.deviceMemory<=4?window.innerWidth<768?16:24:window.innerWidth<768?26:40,o=["#ff003c","#ff4d6d","#ff809b"],l="rgba(255, 0, 60, 0.2)";t.width=window.innerWidth,t.height=window.innerHeight;let r=t.getBoundingClientRect();class d{constructor(e,t){this.x=e,this.y=t,this.baseX=e,this.baseY=t,this.size=3*Math.random()+1,this.speedX=2*Math.random()-1,this.speedY=2*Math.random()-1,this.opacity=.5*Math.random()+.2,this.density=20*Math.random()+1}update(){if(null!==s.x&&null!==s.y){const e=s.x-this.x,t=s.y-this.y,i=Math.sqrt(e*e+t*t),n=e/i,a=t/i,o=s.radius,l=(o-i)/o,r=n*l*this.density*.5,d=a*l*this.density*.5;if(i<s.radius)this.x-=r,this.y-=d;else{if(this.x!==this.baseX){const e=this.x-this.baseX;this.x-=e/15}if(this.y!==this.baseY){const e=this.y-this.baseY;this.y-=e/15}}}this.baseX+=this.speedX,this.baseY+=this.speedY,(this.baseX<0||this.baseX>t.width)&&(this.speedX*=-1),(this.baseY<0||this.baseY>t.height)&&(this.speedY*=-1),this.opacity+=.02*(Math.random()-.5),this.opacity=Math.max(.1,Math.min(.7,this.opacity))}draw(){i.globalAlpha=this.opacity,i.fillStyle=o[Math.floor(Math.random()*o.length)],i.beginPath(),i.arc(this.x,this.y,this.size,0,2*Math.PI),i.fill(),i.globalAlpha=1}}function c(){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++){const a=n[e].x-n[t].x,o=n[e].y-n[t].y,r=Math.sqrt(a*a+o*o);if(r<100){let a=1-r/100;if(null!==s.x&&null!==s.y){const i=(n[e].x+n[t].x)/2,o=(n[e].y+n[t].y)/2;Math.sqrt((s.x-i)**2+(s.y-o)**2)<s.radius&&(a*=1.3)}i.strokeStyle=l.replace("0.2",(.3*a).toFixed(2)),i.lineWidth=.5,i.beginPath(),i.moveTo(n[e].x,n[e].y),i.lineTo(n[t].x,n[t].y),i.stroke()}}null!==s.x&&null!==s.y&&n.forEach(e=>{const t=s.x-e.x,n=s.y-e.y,a=Math.sqrt(t*t+n*n);if(a<s.radius){const t=1-a/s.radius;i.strokeStyle=`rgba(255, 0, 60, ${.3*t})`,i.lineWidth=.8,i.beginPath(),i.moveTo(s.x,s.y),i.lineTo(e.x,e.y),i.stroke()}})}function h(){n=[];for(let e=0;e<a;e++){const e=Math.random()*t.width,i=Math.random()*t.height;n.push(new d(e,i))}}function u(){i.clearRect(0,0,t.width,t.height),n.forEach(e=>{e.update(),e.draw()}),c(),e.classList.contains("hidden")||requestAnimationFrame(u)}t.addEventListener("mousemove",e=>{s.x=e.clientX-r.left,s.y=e.clientY-r.top}),t.addEventListener("mouseleave",()=>{s.x=null,s.y=null}),t.addEventListener("touchmove",e=>{e.preventDefault();const t=e.touches[0];s.x=t.clientX-r.left,s.y=t.clientY-r.top}),t.addEventListener("touchend",()=>{s.x=null,s.y=null}),h(),u(),window.addEventListener("resize",()=>{t.width=window.innerWidth,t.height=window.innerHeight,r=t.getBoundingClientRect(),h()}),window.addEventListener("scroll",()=>{r=t.getBoundingClientRect()},{passive:!0})}(),setTimeout(()=>{e.classList.add("hidden"),t.classList.add("loaded")},1200),sessionStorage.setItem("rd-intro-seen","1")),document.getElementById("typed-role")&&(i?document.getElementById("typed-role").textContent="Data Science Student.":new Typed("#typed-role",{strings:["Web Developer.","Quant Researcher.","Data Science Student."],typeSpeed:70,backSpeed:50,backDelay:1500,startDelay:500,loop:!0,showCursor:!0,cursorChar:"|",smartBackspace:!0}));const s=document.querySelectorAll("section[id]"),a=document.querySelectorAll(".nav-links li a");let o=[];function l(){o=Array.from(s).map(e=>({id:e.id,top:e.offsetTop})).sort((e,t)=>e.top-t.top)}function r(){let e=window.scrollY,t="";for(let i=o.length-1;i>=0;i--){const n=o[i];if(e+70>=n.top){t=n.id;break}}a.forEach(e=>{const i=e.getAttribute("href");i&&i.startsWith("#")&&i===`#${t}`?e.classList.add("active-link"):e.classList.remove("active-link")})}l(),r();let d=!1;if(window.addEventListener("scroll",()=>{d||(d=!0,requestAnimationFrame(()=>{r(),d=!1}))},{passive:!0}),window.addEventListener("resize",l,{passive:!0}),window.addEventListener("load",l),document.querySelectorAll('.nav-links a[href^="#"], a.cta-btn--hero[href^="#"], .back-to-top[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),i=document.querySelector(t);if(i){let e=i.getBoundingClientRect().top+window.scrollY-60;"#top"===t&&(e=0),window.scrollTo({top:e,behavior:"smooth"})}})}),document.getElementById("current-year")&&(document.getElementById("current-year").textContent=(new Date).getFullYear()),"undefined"!=typeof Swiper){new Swiper(".project-swiper",{loop:!0,slidesPerView:1,spaceBetween:30,grabCursor:!0,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{el:".project-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:3,spaceBetween:40}}}),new Swiper(".achievement-swiper",{loop:!0,slidesPerView:1,spaceBetween:30,grabCursor:!0,autoplay:{delay:4500,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{el:".achievement-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:3,spaceBetween:40}}}),new Swiper(".skill-swiper",{loop:!0,slidesPerView:1,spaceBetween:30,grabCursor:!0,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{el:".skill-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:4,spaceBetween:30}}})}const c=document.querySelector(".mobile-menu-btn"),h=document.querySelector(".nav-links"),u=c.querySelector(".fa-bars"),p=c.querySelector(".fa-times");if(c&&h&&(c.addEventListener("click",()=>{h.classList.toggle("active");const e=h.classList.contains("active");c.setAttribute("aria-expanded",String(e)),e?(c.setAttribute("aria-label","Close menu"),u&&(u.style.display="none"),p&&(p.style.display="block")):(c.setAttribute("aria-label","Open menu"),u&&(u.style.display="block"),p&&(p.style.display="none"))}),h.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{h.classList.contains("active")&&(h.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.setAttribute("aria-label","Open menu"),u&&(u.style.display="block"),p&&(p.style.display="none"))})})),!i&&"undefined"!=typeof ScrollReveal){const e=ScrollReveal();document.querySelectorAll(".section-title").forEach(t=>{e.reveal(t,{delay:0,distance:"40px",duration:125,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",origin:"bottom",reset:!1,scale:.95,viewFactor:.1,viewOffset:{top:100,right:0,bottom:0,left:0},beforeReveal:e=>{e.style.animation="none",e.style.transform="translateY(40px) scale(0.95)",e.style.opacity="0",e.style.filter="blur(6px)"},afterReveal:e=>{e.style.animation="sectionTitleReveal 0.2s ease-out forwards",e.style.transform="",e.style.opacity="",e.style.filter=""}})});document.querySelectorAll(".section").forEach(t=>{t.classList.add("scroll-reveal-section"),e.reveal(t,{delay:200,distance:"50px",duration:800,easing:"ease-in-out",origin:"bottom",reset:!1,afterReveal:e=>{e.classList.add("active")}})})}});